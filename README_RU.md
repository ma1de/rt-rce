[English Language](https://github.com/ma1de/rt-rce/blob/main/README.md)

# RT RCE
Ростелеком Remote Code Execution баг найден в веб панеле.

# Предупреждение
Это всего лишь пример того, что можно сделать с этим багом. Используйте этот скрипт на свой страх и риск. <br>
Напоминаю, что взлом чужого оборудование наказывается статьей Уголовного Кодекса РФ №272 "Неправомерный доступ к компьютерной информации". <br>

# Как это работает
В веб панеле можно найти категорию "Диагностика", где находятся инструменты ping и traceroute. <br>
За пример возьмем их инструмент Ping6. Когда мы вводим IPv6 адрес и жмем "Пуск", то веб панель выполняет следующую команду с рут правами:
```
ping -6 <input>
```
Из-за этого мы может вписать вместо IP адреса всё что угодно, например:
```
ping -6 :: | echo "Привет!"
```
И куда же они дели те самые [60 миллиардов для блокировки вебсайтов](https://www.svoboda.org/a/roskomnadzor-potratit-pochti-60-mlrd-rubley-na-sistemy-po-blokirovke/33114493.html)... <br>
Перед этим вам нужно авторизоваться в панеле и взять sessionid, без него ничего работать не будет.

# Что делать если у меня роутер от РТ?
Используйте список команд в `command_samples`, чтобы остановить протокол [TR069](https://ru.wikipedia.org/wiki/TR-069) и заменить их DNS сервер на Cloudflare (или любой другой сервер, это все на ваше усмотрение). <br>
Хочу предупредить, что я не несу ответственность за то, что вы модифицируйте чужое оборудование без разрешения (если вы взяли роутер в аренду). <br>
Если вы что-то сломаете (хотя это практически невозможно, потому что система в read-only режиме) - это Ваши проблемы. <br>
Самый лучший вариант это купить роутер с поддержкой OpenWrt и подключить его напрямую к роутеру РТ по проводу. В роутере РТ замените протокол PPPoE на Bridged (перед этим у поддержки спросите логин и пароль от подключения PPP, поддержка или бот вам выдаст их), а на новый роутер установите OpenWrt и настройте PPPoE соединение. Замените их DNS сервера на любой другой DNS сервер (предпочитаемо Cloudflare) и в файрфолле заблокируйте их сервера DNS (можно использовать для этого iptables, но в LuCI и так это можно сделать).

# Лицензия
Вы можете найти копию лицензии MIT в этом репозитории